{"version":3,"sources":["components/Carousel.js","App.js","index.js"],"names":["Carousel","state","imagesOrder","props","images","gap","shift","transitionNeed","direction","shiftCounter","shiftLimit","Math","ceil","length","step","blockButtons","duration","buttons","document","querySelectorAll","forEach","button","setAttribute","setTimeout","removeAttribute","prevImage","frameSize","itemWidth","animationDuration","infinite","setState","prevImagesOrder","prevShift","slice","nextImage","prevshiftCounter","prevProps","this","stylesForListWrapper","width","stylesForList","transform","transition","stylesForImage","height","className","style","map","image","index","key","uuidv4","src","alt","type","onClick","disabled","React","Component","defaultValues","App","defaultStep","defaultFrameSize","defaultItemWidth","defaultAnimationDuration","confirm","halfLength","floor","settingStep","abs","prompt","settingFrameSize","settingItemWidth","settingDuration","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1bced426.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport './Carousel.scss';\n\nclass Carousel extends React.Component {\n  state = {\n    imagesOrder: [...this.props.images],\n    gap: 50,\n    shift: 0,\n    transitionNeed: true,\n    direction: null,\n    shiftCounter: 1,\n    shiftLimit: Math.ceil(this.props.images.length / this.props.step),\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.direction === 'left') {\n      setTimeout(() => {\n        this.setState(({ imagesOrder: prevImagesOrder }) => ({\n          imagesOrder: [...prevImagesOrder.slice(0, -prevProps.step)],\n          shift: 0,\n          transitionNeed: true,\n          direction: null,\n        }));\n      }, 0);\n    }\n\n    if (this.state.direction === 'right') {\n      setTimeout(() => {\n        this.setState(({ imagesOrder: prevImagesOrder }) => ({\n          imagesOrder: [...prevImagesOrder.slice(prevProps.step)],\n          shift: 0,\n          transitionNeed: false,\n          direction: null,\n        }));\n      }, this.props.animationDuration);\n    }\n  }\n\n  blockButtons = (duration) => {\n    const buttons = document.querySelectorAll('.Carousel__button');\n\n    buttons.forEach(button => button.setAttribute('disabled', 'disabled'));\n\n    setTimeout(() => {\n      buttons.forEach(button => button.removeAttribute('disabled'));\n    }, duration);\n  }\n\n  prevImage = () => {\n    const {\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    if (infinite) {\n      this.blockButtons(animationDuration);\n\n      this.setState(({\n        imagesOrder: prevImagesOrder,\n        gap,\n        shift: prevShift,\n      }) => ({\n        imagesOrder: [\n          ...prevImagesOrder.slice(-step),\n          ...prevImagesOrder,\n        ],\n        shift: prevShift - (itemWidth * step) - (frameSize * gap),\n        transitionNeed: false,\n        direction: 'left',\n      }));\n    } else if (!infinite && this.state.shift !== 0) {\n      this.setState(({\n        gap,\n        shift,\n        shiftCounter,\n      }) => ({\n        shift: shift + (itemWidth * step) + (frameSize * gap),\n        shiftCounter: shiftCounter - 1,\n      }));\n    }\n  }\n\n  nextImage = () => {\n    const {\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    const { shiftCounter, shiftLimit } = this.state;\n\n    if (infinite) {\n      this.blockButtons(animationDuration);\n\n      this.setState(({\n        imagesOrder: prevImagesOrder,\n        shift: prevShift,\n        gap,\n      }) => ({\n        imagesOrder: [\n          ...prevImagesOrder,\n          ...prevImagesOrder.slice(0, step),\n        ],\n        shift: prevShift - (itemWidth * step) - (frameSize * gap),\n        direction: 'right',\n        transitionNeed: true,\n      }));\n    } else if (!infinite && shiftCounter !== shiftLimit) {\n      this.setState(({\n        gap,\n        shift,\n        shiftCounter: prevshiftCounter,\n      }) => ({\n        shift: shift - (itemWidth * step) - (frameSize * gap),\n        shiftCounter: prevshiftCounter + 1,\n      }));\n    }\n\n    // this.blockButtons(animationDuration);\n  }\n\n  render() {\n    const {\n      frameSize,\n      itemWidth,\n      animationDuration,\n    } = this.props;\n\n    const {\n      shift,\n      imagesOrder,\n      transitionNeed,\n      gap,\n    } = this.state;\n\n    const stylesForListWrapper = {\n      width: itemWidth * frameSize + (frameSize - 1) * gap,\n    };\n\n    const stylesForList = transitionNeed ? {\n      transform: `translateX(${shift}px)`,\n      transition: `transform linear ${animationDuration}ms`,\n      gap: `${gap}px`,\n    } : {\n      transform: `translateX(${shift}px)`,\n      gap: `${gap}px`,\n    };\n\n    const stylesForImage = {\n      width: itemWidth,\n      height: itemWidth,\n    };\n\n    return (\n      <div className=\"Carousel\">\n        <div className=\"Carousel__list-wrapper\" style={stylesForListWrapper}>\n          <ul className=\"Carousel__list\" style={stylesForList}>\n            {imagesOrder.map((image, index) => (\n              <li key={uuidv4()} className=\"Carousel__item\">\n                <img\n                  className=\"Carousel__img\"\n                  src={image}\n                  alt={`${index}`}\n                  style={stylesForImage}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"Carousel__button Carousel__button_prev\"\n          onClick={this.prevImage}\n          disabled={this.state.shiftCounter === 1 && !this.props.infinite}\n        >\n          &lt;\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"Carousel__button Carousel__button_next\"\n          onClick={this.nextImage}\n          disabled={(this.state.shiftCounter === this.state.shiftLimit)\n            && !this.props.infinite}\n        >\n          &gt;\n        </button>\n      </div>\n    );\n  }\n}\n\nCarousel.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.string.isRequired,\n  ).isRequired,\n  step: PropTypes.number.isRequired,\n  frameSize: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  animationDuration: PropTypes.number.isRequired,\n  infinite: PropTypes.bool.isRequired,\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\n\nimport Carousel from './components/Carousel';\n\nconst defaultValues = {\n  defaultStep: 3,\n  defaultFrameSize: 3,\n  defaultItemWidth: 130,\n  defaultAnimationDuration: 1000,\n  defaultInfiniteValue: false,\n};\n\n// enterValues()\n\nclass App extends React.Component {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n  };\n\n  render() {\n    const { images } = this.state;\n\n    const {\n      defaultStep,\n      defaultFrameSize,\n      defaultItemWidth,\n      defaultAnimationDuration,\n      defaultInfiniteValue,\n    } = defaultValues;\n\n    let step = defaultStep;\n    let frameSize = defaultFrameSize;\n    let itemWidth = defaultItemWidth;\n    let animationDuration = defaultAnimationDuration;\n    let infinite = defaultInfiniteValue;\n\n    /* eslint-disable */\n    (function setValues() {\n      if (confirm('Do you want set custom params of carousel?')) {\n        const halfLength = Math.floor(images.length / 2);\n        const settingStep = Math.abs(+prompt(\n          `Set scroll step, maximum - ${halfLength}`\n        ));\n        const settingFrameSize = Math.abs(+prompt(\n          `Set number of displayed images, maximum - ${halfLength}`\n        ));\n        const settingItemWidth = Math.abs(+prompt('Set image width'));\n        const settingDuration = Math.abs(+prompt('Set scroll duration'));\n\n        step = (settingStep && (settingStep <= halfLength)) || defaultStep;\n        frameSize = (settingFrameSize && (settingFrameSize <= halfLength))\n          || defaultFrameSize;\n        itemWidth = settingItemWidth || defaultItemWidth;\n        animationDuration = settingDuration || defaultAnimationDuration;\n        infinite = confirm('Do you want infinite carousel?');\n      }\n    })();\n    /* eslint-enable */\n\n    return (\n      <div className=\"App\">\n        <h1 className=\"title\">\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n\n        <button\n          className=\"changing-button\"\n          type=\"button\"\n        >\n          Change Carousel\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}