{"version":3,"sources":["components/Carousel.js","App.js","index.js"],"names":["Carousel","state","imagesOrder","props","images","gap","shift","transitionNeed","direction","shiftCounter","shiftLimit","Math","ceil","length","step","blockButtons","duration","buttons","document","querySelectorAll","forEach","button","setAttribute","setTimeout","removeAttribute","prevImage","itemWidth","animationDuration","infinite","setState","prevImagesOrder","prevShift","slice","nextImage","prevshiftCounter","prevProps","this","frameSize","stylesForListWrapper","width","stylesForList","transform","transition","stylesForImage","height","className","style","map","image","index","key","uuidv4","src","alt","type","onClick","disabled","React","Component","defaultValues","refreshPage","window","location","reload","App","defaultStep","defaultFrameSize","defaultItemWidth","defaultAnimationDuration","confirm","halfLength","floor","settingStep","abs","prompt","settingFrameSize","settingItemWidth","settingDuration","console","log","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e796ea68.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport './Carousel.scss';\n\nclass Carousel extends React.Component {\n  state = {\n    imagesOrder: [...this.props.images],\n    gap: 50,\n    shift: 0,\n    transitionNeed: true,\n    direction: null,\n    shiftCounter: 1,\n    shiftLimit: Math.ceil(this.props.images.length / this.props.step),\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.direction === 'left') {\n      setTimeout(() => {\n        this.setState(({ imagesOrder: prevImagesOrder }) => ({\n          imagesOrder: [...prevImagesOrder.slice(0, -prevProps.step)],\n          shift: 0,\n          transitionNeed: true,\n          direction: null,\n        }));\n      }, 0);\n    }\n\n    if (this.state.direction === 'right') {\n      setTimeout(() => {\n        this.setState(({ imagesOrder: prevImagesOrder }) => ({\n          imagesOrder: [...prevImagesOrder.slice(prevProps.step)],\n          shift: 0,\n          transitionNeed: false,\n          direction: null,\n        }));\n      }, this.props.animationDuration);\n    }\n  }\n\n  blockButtons = (duration) => {\n    const buttons = document.querySelectorAll('.Carousel__button');\n\n    buttons.forEach(button => button.setAttribute('disabled', 'disabled'));\n\n    setTimeout(() => {\n      buttons.forEach(button => button.removeAttribute('disabled'));\n    }, duration);\n  }\n\n  prevImage = () => {\n    const {\n      step,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    if (infinite) {\n      this.blockButtons(animationDuration);\n\n      this.setState(({\n        imagesOrder: prevImagesOrder,\n        gap,\n        shift: prevShift,\n      }) => ({\n        imagesOrder: [\n          ...prevImagesOrder.slice(-step),\n          ...prevImagesOrder,\n        ],\n        shift: prevShift - (itemWidth * step) - (step * gap),\n        transitionNeed: false,\n        direction: 'left',\n      }));\n    } else if (!infinite && this.state.shift !== 0) {\n      this.setState(({\n        gap,\n        shift,\n        shiftCounter,\n      }) => ({\n        shift: shift + (itemWidth * step) + (step * gap),\n        shiftCounter: shiftCounter - 1,\n      }));\n    }\n  }\n\n  nextImage = () => {\n    const {\n      step,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    const { shiftCounter, shiftLimit } = this.state;\n\n    if (infinite) {\n      this.blockButtons(animationDuration);\n\n      this.setState(({\n        imagesOrder: prevImagesOrder,\n        shift: prevShift,\n        gap,\n      }) => ({\n        imagesOrder: [\n          ...prevImagesOrder,\n          ...prevImagesOrder.slice(0, step),\n        ],\n        shift: prevShift - (itemWidth * step) - (step * gap),\n        direction: 'right',\n        transitionNeed: true,\n      }));\n    } else if (!infinite && shiftCounter !== shiftLimit) {\n      this.setState(({\n        gap,\n        shift,\n        shiftCounter: prevshiftCounter,\n      }) => ({\n        shift: shift - (itemWidth * step) - (step * gap),\n        shiftCounter: prevshiftCounter + 1,\n      }));\n    }\n  }\n\n  render() {\n    const {\n      frameSize,\n      itemWidth,\n      animationDuration,\n    } = this.props;\n\n    const {\n      shift,\n      imagesOrder,\n      transitionNeed,\n      gap,\n    } = this.state;\n\n    const stylesForListWrapper = {\n      width: itemWidth * frameSize + (frameSize - 1) * gap,\n    };\n\n    const stylesForList = transitionNeed ? {\n      transform: `translateX(${shift}px)`,\n      transition: `transform linear ${animationDuration}ms`,\n      gap: `${gap}px`,\n    } : {\n      transform: `translateX(${shift}px)`,\n      gap: `${gap}px`,\n    };\n\n    const stylesForImage = {\n      width: itemWidth,\n      height: itemWidth,\n    };\n\n    return (\n      <div className=\"Carousel\">\n        <div className=\"Carousel__list-wrapper\" style={stylesForListWrapper}>\n          <ul className=\"Carousel__list\" style={stylesForList}>\n            {imagesOrder.map((image, index) => (\n              <li key={uuidv4()} className=\"Carousel__item\">\n                <img\n                  className=\"Carousel__img\"\n                  src={image}\n                  alt={`${index}`}\n                  style={stylesForImage}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"Carousel__button Carousel__button_prev\"\n          onClick={this.prevImage}\n          disabled={this.state.shiftCounter === 1 && !this.props.infinite}\n        >\n          &lt;\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"Carousel__button Carousel__button_next\"\n          onClick={this.nextImage}\n          disabled={(this.state.shiftCounter === this.state.shiftLimit)\n            && !this.props.infinite}\n        >\n          &gt;\n        </button>\n      </div>\n    );\n  }\n}\n\nCarousel.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.string.isRequired,\n  ).isRequired,\n  step: PropTypes.number.isRequired,\n  frameSize: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  animationDuration: PropTypes.number.isRequired,\n  infinite: PropTypes.bool.isRequired,\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\n\nimport Carousel from './components/Carousel';\n\nconst defaultValues = {\n  defaultStep: 3,\n  defaultFrameSize: 3,\n  defaultItemWidth: 130,\n  defaultAnimationDuration: 1000,\n  defaultInfiniteValue: false,\n};\n\nfunction refreshPage() {\n  window.location.reload();\n}\n\n// enterValues()\n\nclass App extends React.Component {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n  };\n\n  render() {\n    const { images } = this.state;\n\n    const {\n      defaultStep,\n      defaultFrameSize,\n      defaultItemWidth,\n      defaultAnimationDuration,\n      defaultInfiniteValue,\n    } = defaultValues;\n\n    let step = defaultStep;\n    let frameSize = defaultFrameSize;\n    let itemWidth = defaultItemWidth;\n    let animationDuration = defaultAnimationDuration;\n    let infinite = defaultInfiniteValue;\n\n    /* eslint-disable */\n    (function setValues() {\n      if (confirm('Do you want set custom params of carousel?')) {\n        const halfLength = Math.floor(images.length / 2);\n        const settingStep = Math.abs(+prompt(\n          `Set scroll step, maximum - ${halfLength}`\n        ));\n        const settingFrameSize = Math.abs(+prompt(\n          `Set number of displayed images, maximum - ${halfLength}`\n        ));\n        const settingItemWidth = Math.abs(+prompt('Set image width'));\n        const settingDuration = Math.abs(+prompt('Set scroll duration'));\n\n        step = ((settingStep <= halfLength) && settingStep) || defaultStep;\n        console.log(step);\n        frameSize = ((settingFrameSize <= halfLength) && settingFrameSize)\n          || defaultFrameSize;\n        itemWidth = settingItemWidth || defaultItemWidth;\n        animationDuration = settingDuration || defaultAnimationDuration;\n        infinite = confirm('Do you want infinite carousel?');\n      }\n    })();\n    /* eslint-enable */\n\n    return (\n      <div className=\"App\">\n        <h1 className=\"title\">\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n\n        <button\n          className=\"changing-button\"\n          type=\"button\"\n          onClick={refreshPage}\n        >\n          Change Carousel\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}