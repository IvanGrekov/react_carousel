{"version":3,"sources":["components/Carousel.js","App.js","index.js"],"names":["Carousel","state","imagesOrder","props","images","gap","shift","transitionNeed","direction","shiftCounter","shiftLimit","Math","ceil","length","step","rightRemainder","leftRemainder","blockButtons","duration","buttons","document","querySelectorAll","forEach","button","setAttribute","setTimeout","removeAttribute","prevImage","itemWidth","animationDuration","infinite","setState","prevImagesOrder","prevShift","slice","nextImage","prevshiftCounter","prevProps","this","frameSize","stylesForListWrapper","width","stylesForList","transform","transition","stylesForImage","height","className","style","map","image","index","key","uuidv4","src","alt","type","onClick","disabled","React","Component","defaultValues","refreshPage","window","location","reload","App","defaultStep","defaultFrameSize","defaultItemWidth","defaultAnimationDuration","confirm","halfLength","floor","settingStep","abs","prompt","settingFrameSize","settingItemWidth","settingDuration","console","log","ReactDOM","render","getElementById"],"mappings":"yPAgPeA,G,kNAzObC,MAAQ,CACNC,YAAY,YAAK,EAAKC,MAAMC,QAC5BC,IAAK,GACLC,MAAO,EACPC,gBAAgB,EAChBC,UAAW,KACXC,aAAc,EACdC,WAAYC,KAAKC,KAAK,EAAKT,MAAMC,OAAOS,OAAS,EAAKV,MAAMW,MAC5DC,eAAgB,EAAKZ,MAAMC,OAAOS,OAAS,EAAKV,MAAMW,KACtDE,cAAe,G,EA2BjBC,aAAe,SAACC,GACd,IAAMC,EAAUC,SAASC,iBAAiB,qBAE1CF,EAAQG,SAAQ,SAAAC,GAAM,OAAIA,EAAOC,aAAa,WAAY,eAE1DC,YAAW,WACTN,EAAQG,SAAQ,SAAAC,GAAM,OAAIA,EAAOG,gBAAgB,iBAChDR,I,EAGLS,UAAY,WACV,MAKI,EAAKxB,MAJPW,EADF,EACEA,KACAc,EAFF,EAEEA,UACAC,EAHF,EAGEA,kBACAC,EAJF,EAIEA,SAGEA,GACF,EAAKb,aAAaY,GAElB,EAAKE,UAAS,gBACCC,EADD,EACZ9B,YACAG,EAFY,EAEZA,IACO4B,EAHK,EAGZ3B,MAHY,MAIP,CACLJ,YAAY,GAAD,mBACN8B,EAAgBE,OAAOpB,IADjB,YAENkB,IAEL1B,MAAO2B,GAAcL,EAAYvB,GAAOS,EACxCP,gBAAgB,EAChBC,UAAW,YAEHsB,GAAiC,IAArB,EAAK7B,MAAMK,OACjC,EAAKyB,UAAS,YAMP,IALL1B,EAKI,EALJA,IACAC,EAII,EAJJA,MACAG,EAGI,EAHJA,aACAM,EAEI,EAFJA,eACAC,EACI,EADJA,cAEA,OAAIA,EAAgBF,EACX,CACLR,MAAOA,GAAUsB,EAAYvB,GAAOW,EACpCP,aAAcA,EAAe,EAC7BM,eAAgBA,EAAiBC,EACjCA,cAAe,GAIZ,CACLV,MAAOA,GAAUsB,EAAYvB,GAAOS,EACpCL,aAAcA,EAAe,EAC7BM,eAAgBA,EAAiBD,EACjCE,cAAeA,EAAgBF,O,EAMvCqB,UAAY,WACV,MAKI,EAAKhC,MAJPW,EADF,EACEA,KACAc,EAFF,EAEEA,UACAC,EAHF,EAGEA,kBACAC,EAJF,EAIEA,SAGF,EAAqC,EAAK7B,MAAlCQ,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,WAElBoB,GACF,EAAKb,aAAaY,GAElB,EAAKE,UAAS,gBACCC,EADD,EACZ9B,YACO+B,EAFK,EAEZ3B,MACAD,EAHY,EAGZA,IAHY,MAIP,CACLH,YAAY,GAAD,mBACN8B,GADM,YAENA,EAAgBE,MAAM,EAAGpB,KAE9BR,MAAO2B,GAAcL,EAAYvB,GAAOS,EACxCN,UAAW,QACXD,gBAAgB,OAERuB,GAAYrB,IAAiBC,GACvC,EAAKqB,UAAS,YAMP,IALL1B,EAKI,EALJA,IACAC,EAII,EAJJA,MACc8B,EAGV,EAHJ3B,aACAM,EAEI,EAFJA,eACAC,EACI,EADJA,cAEA,OAAID,EAAiBD,EACZ,CACLR,MAAOA,GAAUsB,EAAYvB,GAAOU,EACpCN,aAAc2B,EAAmB,EACjCrB,eAAgB,EAChBC,cAAeA,EAAgBD,GAI5B,CACLT,MAAOA,GAAUsB,EAAYvB,GAAOS,EACpCL,aAAc2B,EAAmB,EACjCrB,eAAgBA,EAAiBD,EACjCE,cAAeA,EAAgBF,O,wDApIvC,SAAmBuB,GAAY,IAAD,OACC,SAAzBC,KAAKrC,MAAMO,WACbiB,YAAW,WACT,EAAKM,UAAS,gBAAgBC,EAAhB,EAAG9B,YAAH,MAAuC,CACnDA,YAAY,YAAK8B,EAAgBE,MAAM,GAAIG,EAAUvB,OACrDR,MAAO,EACPC,gBAAgB,EAChBC,UAAW,WAEZ,GAGwB,UAAzB8B,KAAKrC,MAAMO,WACbiB,YAAW,WACT,EAAKM,UAAS,gBAAgBC,EAAhB,EAAG9B,YAAH,MAAuC,CACnDA,YAAY,YAAK8B,EAAgBE,MAAMG,EAAUvB,OACjDR,MAAO,EACPC,gBAAgB,EAChBC,UAAW,WAEZ8B,KAAKnC,MAAM0B,qB,oBAsHlB,WACE,MAIIS,KAAKnC,MAHPoC,EADF,EACEA,UACAX,EAFF,EAEEA,UACAC,EAHF,EAGEA,kBAGF,EAKIS,KAAKrC,MAJPK,EADF,EACEA,MACAJ,EAFF,EAEEA,YACAK,EAHF,EAGEA,eACAF,EAJF,EAIEA,IAGImC,EAAuB,CAC3BC,MAAOb,EAAYW,GAAaA,EAAY,GAAKlC,GAG7CqC,EAAgBnC,EAAiB,CACrCoC,UAAU,cAAD,OAAgBrC,EAAhB,OACTsC,WAAW,oBAAD,OAAsBf,EAAtB,MACVxB,IAAI,GAAD,OAAKA,EAAL,OACD,CACFsC,UAAU,cAAD,OAAgBrC,EAAhB,OACTD,IAAI,GAAD,OAAKA,EAAL,OAGCwC,EAAiB,CACrBJ,MAAOb,EACPkB,OAAQlB,GAGV,OACE,yBAAKmB,UAAU,YACb,yBAAKA,UAAU,yBAAyBC,MAAOR,GAC7C,wBAAIO,UAAU,iBAAiBC,MAAON,GACnCxC,EAAY+C,KAAI,SAACC,EAAOC,GAAR,OACf,wBAAIC,IAAKC,cAAUN,UAAU,kBAC3B,yBACEA,UAAU,gBACVO,IAAKJ,EACLK,IAAG,UAAKJ,GACRH,MAAOH,UAOjB,4BACEW,KAAK,SACLT,UAAU,yCACVU,QAASnB,KAAKX,UACd+B,SAAsC,IAA5BpB,KAAKrC,MAAMQ,eAAuB6B,KAAKnC,MAAM2B,UAJzD,KASA,4BACE0B,KAAK,SACLT,UAAU,yCACVU,QAASnB,KAAKH,UACduB,SAAWpB,KAAKrC,MAAMQ,eAAiB6B,KAAKrC,MAAMS,aAC5C4B,KAAKnC,MAAM2B,UALnB,U,GAjNe6B,IAAMC,YCDvBC,EACS,EADTA,EAEc,EAFdA,EAGc,IAHdA,EAIsB,IAJtBA,GAKkB,EAGxB,SAASC,IACPC,OAAOC,SAASC,S,IAyFHC,E,4MAnFbjE,MAAQ,CACNG,OAAQ,CACN,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,iB,4CAIJ,WACE,IAAQA,EAAWkC,KAAKrC,MAAhBG,OAGN+D,EAKEN,EAJFO,EAIEP,EAHFQ,EAGER,EAFFS,EAEET,EAEA/C,EAAOqD,EACP5B,EAAY6B,EACZxC,EAAYyC,EACZxC,EAAoByC,EACpBxC,EANA+B,EAgCJ,OAvBA,WACE,GAAIU,QAAQ,8CAA+C,CACzD,IAAMC,EAAa7D,KAAK8D,MAAMrE,EAAOS,OAAS,GACxC6D,EAAc/D,KAAKgE,KAAKC,OAAO,8BAAD,OACJJ,KAE1BK,EAAmBlE,KAAKgE,KAAKC,OAAO,6CAAD,OACMJ,KAEzCM,EAAmBnE,KAAKgE,KAAKC,OAAO,oBACpCG,EAAkBpE,KAAKgE,KAAKC,OAAO,wBAEzC9D,EAAS4D,GAAeF,GAAeE,GAAgBP,EACvDa,QAAQC,IAAInE,GACZyB,EAAcsC,GAAoBL,GAAeK,GAC5CT,EACLxC,EAAYkD,GAAoBT,EAChCxC,EAAoBkD,GAAmBT,EACvCxC,EAAWyC,QAAQ,mCAlBvB,GAwBE,yBAAKxB,UAAU,OACb,wBAAIA,UAAU,SAAd,wBACoB3C,EAAOS,OAD3B,YAIA,kBAAC,EAAD,CACET,OAAQA,EACRU,KAAMA,EACNyB,UAAWA,EACXX,UAAWA,EACXC,kBAAmBA,EACnBC,SAAUA,IAGZ,4BACEiB,UAAU,kBACVS,KAAK,SACLC,QAASK,GAHX,wB,GAxEUH,IAAMC,WCfxBsB,IAASC,OAAO,kBAAC,EAAD,MAAS/D,SAASgE,eAAe,U","file":"static/js/main.f0cea652.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport './Carousel.scss';\n\nclass Carousel extends React.Component {\n  state = {\n    imagesOrder: [...this.props.images],\n    gap: 50,\n    shift: 0,\n    transitionNeed: true,\n    direction: null,\n    shiftCounter: 1,\n    shiftLimit: Math.ceil(this.props.images.length / this.props.step),\n    rightRemainder: this.props.images.length - this.props.step,\n    leftRemainder: 0,\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.direction === 'left') {\n      setTimeout(() => {\n        this.setState(({ imagesOrder: prevImagesOrder }) => ({\n          imagesOrder: [...prevImagesOrder.slice(0, -prevProps.step)],\n          shift: 0,\n          transitionNeed: true,\n          direction: null,\n        }));\n      }, 0);\n    }\n\n    if (this.state.direction === 'right') {\n      setTimeout(() => {\n        this.setState(({ imagesOrder: prevImagesOrder }) => ({\n          imagesOrder: [...prevImagesOrder.slice(prevProps.step)],\n          shift: 0,\n          transitionNeed: false,\n          direction: null,\n        }));\n      }, this.props.animationDuration);\n    }\n  }\n\n  blockButtons = (duration) => {\n    const buttons = document.querySelectorAll('.Carousel__button');\n\n    buttons.forEach(button => button.setAttribute('disabled', 'disabled'));\n\n    setTimeout(() => {\n      buttons.forEach(button => button.removeAttribute('disabled'));\n    }, duration);\n  }\n\n  prevImage = () => {\n    const {\n      step,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    if (infinite) {\n      this.blockButtons(animationDuration);\n\n      this.setState(({\n        imagesOrder: prevImagesOrder,\n        gap,\n        shift: prevShift,\n      }) => ({\n        imagesOrder: [\n          ...prevImagesOrder.slice(-step),\n          ...prevImagesOrder,\n        ],\n        shift: prevShift - ((itemWidth + gap) * step),\n        transitionNeed: false,\n        direction: 'left',\n      }));\n    } else if (!infinite && this.state.shift !== 0) {\n      this.setState(({\n        gap,\n        shift,\n        shiftCounter,\n        rightRemainder,\n        leftRemainder,\n      }) => {\n        if (leftRemainder < step) {\n          return {\n            shift: shift + ((itemWidth + gap) * leftRemainder),\n            shiftCounter: shiftCounter - 1,\n            rightRemainder: rightRemainder + leftRemainder,\n            leftRemainder: 0,\n          };\n        }\n\n        return {\n          shift: shift + ((itemWidth + gap) * step),\n          shiftCounter: shiftCounter - 1,\n          rightRemainder: rightRemainder + step,\n          leftRemainder: leftRemainder - step,\n        };\n      });\n    }\n  }\n\n  nextImage = () => {\n    const {\n      step,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    const { shiftCounter, shiftLimit } = this.state;\n\n    if (infinite) {\n      this.blockButtons(animationDuration);\n\n      this.setState(({\n        imagesOrder: prevImagesOrder,\n        shift: prevShift,\n        gap,\n      }) => ({\n        imagesOrder: [\n          ...prevImagesOrder,\n          ...prevImagesOrder.slice(0, step),\n        ],\n        shift: prevShift - ((itemWidth + gap) * step),\n        direction: 'right',\n        transitionNeed: true,\n      }));\n    } else if (!infinite && shiftCounter !== shiftLimit) {\n      this.setState(({\n        gap,\n        shift,\n        shiftCounter: prevshiftCounter,\n        rightRemainder,\n        leftRemainder,\n      }) => {\n        if (rightRemainder < step) {\n          return {\n            shift: shift - ((itemWidth + gap) * rightRemainder),\n            shiftCounter: prevshiftCounter + 1,\n            rightRemainder: 0,\n            leftRemainder: leftRemainder + rightRemainder,\n          };\n        }\n\n        return {\n          shift: shift - ((itemWidth + gap) * step),\n          shiftCounter: prevshiftCounter + 1,\n          rightRemainder: rightRemainder - step,\n          leftRemainder: leftRemainder + step,\n        };\n      });\n    }\n  }\n\n  render() {\n    const {\n      frameSize,\n      itemWidth,\n      animationDuration,\n    } = this.props;\n\n    const {\n      shift,\n      imagesOrder,\n      transitionNeed,\n      gap,\n    } = this.state;\n\n    const stylesForListWrapper = {\n      width: itemWidth * frameSize + (frameSize - 1) * gap,\n    };\n\n    const stylesForList = transitionNeed ? {\n      transform: `translateX(${shift}px)`,\n      transition: `transform linear ${animationDuration}ms`,\n      gap: `${gap}px`,\n    } : {\n      transform: `translateX(${shift}px)`,\n      gap: `${gap}px`,\n    };\n\n    const stylesForImage = {\n      width: itemWidth,\n      height: itemWidth,\n    };\n\n    return (\n      <div className=\"Carousel\">\n        <div className=\"Carousel__list-wrapper\" style={stylesForListWrapper}>\n          <ul className=\"Carousel__list\" style={stylesForList}>\n            {imagesOrder.map((image, index) => (\n              <li key={uuidv4()} className=\"Carousel__item\">\n                <img\n                  className=\"Carousel__img\"\n                  src={image}\n                  alt={`${index}`}\n                  style={stylesForImage}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"Carousel__button Carousel__button_prev\"\n          onClick={this.prevImage}\n          disabled={this.state.shiftCounter === 1 && !this.props.infinite}\n        >\n          &lt;\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"Carousel__button Carousel__button_next\"\n          onClick={this.nextImage}\n          disabled={(this.state.shiftCounter === this.state.shiftLimit)\n            && !this.props.infinite}\n        >\n          &gt;\n        </button>\n      </div>\n    );\n  }\n}\n\nCarousel.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.string.isRequired,\n  ).isRequired,\n  step: PropTypes.number.isRequired,\n  frameSize: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  animationDuration: PropTypes.number.isRequired,\n  infinite: PropTypes.bool.isRequired,\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\n\nimport Carousel from './components/Carousel';\n\nconst defaultValues = {\n  defaultStep: 3,\n  defaultFrameSize: 3,\n  defaultItemWidth: 130,\n  defaultAnimationDuration: 1000,\n  defaultInfiniteValue: false,\n};\n\nfunction refreshPage() {\n  window.location.reload();\n}\n\n// enterValues()\n\nclass App extends React.Component {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n  };\n\n  render() {\n    const { images } = this.state;\n\n    const {\n      defaultStep,\n      defaultFrameSize,\n      defaultItemWidth,\n      defaultAnimationDuration,\n      defaultInfiniteValue,\n    } = defaultValues;\n\n    let step = defaultStep;\n    let frameSize = defaultFrameSize;\n    let itemWidth = defaultItemWidth;\n    let animationDuration = defaultAnimationDuration;\n    let infinite = defaultInfiniteValue;\n\n    /* eslint-disable */\n    (function setValues() {\n      if (confirm('Do you want set custom params of carousel?')) {\n        const halfLength = Math.floor(images.length / 2);\n        const settingStep = Math.abs(+prompt(\n          `Set scroll step, maximum - ${halfLength}`\n        ));\n        const settingFrameSize = Math.abs(+prompt(\n          `Set number of displayed images, maximum - ${halfLength}`\n        ));\n        const settingItemWidth = Math.abs(+prompt('Set image width'));\n        const settingDuration = Math.abs(+prompt('Set scroll duration'));\n\n        step = ((settingStep <= halfLength) && settingStep) || defaultStep;\n        console.log(step);\n        frameSize = ((settingFrameSize <= halfLength) && settingFrameSize)\n          || defaultFrameSize;\n        itemWidth = settingItemWidth || defaultItemWidth;\n        animationDuration = settingDuration || defaultAnimationDuration;\n        infinite = confirm('Do you want infinite carousel?');\n      }\n    })();\n    /* eslint-enable */\n\n    return (\n      <div className=\"App\">\n        <h1 className=\"title\">\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n\n        <button\n          className=\"changing-button\"\n          type=\"button\"\n          onClick={refreshPage}\n        >\n          Change Carousel\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}